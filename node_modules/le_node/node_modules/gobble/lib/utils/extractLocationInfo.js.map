{"version":3,"file":"extractLocationInfo.js","sources":["../../../../src/utils/extractLocationInfo.js"],"sourcesContent":["/**\n * Extracts location info from error objects using a set of heuristics\n   based on real-world examples\n * @param {object} err - an error object thrown by a transpiler\n * @returns {file, line, column}\n */\nexport default function extractLocationInfo ( err ) {\n\tlet { file, line, column, message, loc } = err;\n\n\tif ( !file && err.filename ) {\n\t\tfile = err.filename;\n\t}\n\n\tif ( line === undefined && column === undefined && loc ) {\n\t\tline = loc.line;\n\t\tcolumn = loc.column;\n\t}\n\n\tlet match;\n\n\tif ( line === undefined ) {\n\t\tif ( match = /line (\\d+)/.exec( message ) ) {\n\t\t\tline = +match[1];\n\t\t}\n\t}\n\n\tif ( column === undefined ) {\n\t\tif ( match = /column (\\d+)/.exec( message ) ) {\n\t\t\tcolumn = +match[1];\n\t\t}\n\t}\n\n\t// Handle errors from e.g. browserify\n\t// Unexpected token (123:456) while parsing /path/to/.gobble/12-derequire/1/app.js\n\tif ( line === undefined && column === undefined ) {\n\t\tconst match = /(\\d+):(\\d+)/.exec( message );\n\n\t\tif ( match ) {\n\t\t\tline = match[1];\n\t\t\tcolumn = match[2];\n\t\t}\n\t}\n\n\treturn { file, line, column };\n}\n"],"names":[],"mappings":";;;;;;;;qBAMwB;;AAAT,SAAS,oBAAsB,KAAM;AACpD,CAAA,IAAO,OAAqC,IAArC;AAAP,CAAA,IAAa,OAA+B,IAA/B;AAAb,CAAA,IAAmB,SAAyB,IAAzB;AAAnB,CAAA,IAA2B,UAAiB,IAAjB;AAA3B,CAAA,IAAoC,MAAQ,IAAR;;AAEnC,CAAD,IAAM,CAAC,QAAQ,IAAI,UAAW;AAC5B,EAAF,OAAS,IAAI;AACb;;AAEC,CAAD,IAAM,SAAS,aAAa,WAAW,aAAa,KAAM;AACxD,EAAF,OAAS,IAAI;AACX,EAAF,SAAW,IAAI;AACf;;AAEC,CAAD,IAAK,QAAL;;AAEC,CAAD,IAAM,SAAS,WAAY;AACzB,EAAF,IAAO,QAAQ,aAAa,KAAM,UAAY;AAC3C,GAAH,OAAU,CAAC,MAAM;AACjB;AACA;;AAEC,CAAD,IAAM,WAAW,WAAY;AAC3B,EAAF,IAAO,QAAQ,eAAe,KAAM,UAAY;AAC7C,GAAH,SAAY,CAAC,MAAM;AACnB;AACA;;;;AAIC,CAAD,IAAM,SAAS,aAAa,WAAW,WAAY;AACjD,EAAF,IAAQ,SAAQ,cAAc,KAAM;;AAElC,EAAF,IAAO,QAAQ;AACZ,GAAH,OAAU,OAAM;AACb,GAAH,SAAY,OAAM;AAClB;AACA;;AAEC,CAAD,OAAQ,EAAE,MAAA,MAAM,MAAA,MAAM,QAAA;AACtB"}