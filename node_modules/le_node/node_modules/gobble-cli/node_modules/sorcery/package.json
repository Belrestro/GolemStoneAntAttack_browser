{
  "name": "sorcery",
  "description": "Resolve a chain of sourcemaps back to the original source",
  "version": "0.2.5",
  "author": {
    "name": "Rich Harris"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/Rich-Harris/sorcery.git"
  },
  "main": "dist/sorcery.js",
  "jsnext:main": "src/index.js",
  "license": "MIT",
  "dependencies": {
    "minimist": "^1.1.0",
    "sander": "^0.1.6",
    "vlq": "^0.1.0"
  },
  "devDependencies": {
    "coffee-script": "^1.8.0",
    "gobble": "^0.7.2",
    "gobble-6to5": "^3.0.0",
    "gobble-esperanto-bundle": "^0.1.7",
    "source-map": "^0.1.40",
    "uglify-js": "^2.4.15"
  },
  "bin": {
    "sorcery": "bin/index.js"
  },
  "scripts": {
    "build": "mkdir -p .tmp; rm .tmp/*; set -e; npm test; rm dist/*; cp .tmp/* dist",
    "test": "mocha",
    "prepublish": "npm run build"
  },
  "files": [
    "src/",
    "dist/",
    "bin/",
    "README.md"
  ],
  "readme": "# sorcery.js\n\nSourcemaps are great - if you have a JavaScript file, and you minify it, your minifier can generate a map that lets you debug as though you were looking at the original uncompressed code.\n\nBut if you have more than one transformation - say you want to transpile your JavaScript, concatenate several files into one, and minify the result - it gets a little trickier. Each intermediate step needs to be able to both *ingest* a sourcemap and *generate* one, all the time pointing back to the original source.\n\nMost compilers don't do that. ([UglifyJS](https://github.com/mishoo/UglifyJS2) is an honourable exception.) So when you fire up devtools, instead of looking at the original source you find yourself looking at the final intermediate step in the chain of transformations.\n\n**Sorcery aims to fix that.** Given an file at the end of a transformation chain (e.g., your minified JavaScript), it will follow the entire chain back to the original source, and generate a new sourcemap that describes the whole process. How? Magic.\n\nThis is a work-in-progress - suitable for playing around with, but don't rely on it to debug air traffic control software or medical equipment. Other than that, it can't do much harm.\n\n\n## Usage\n\n### As a node module\n\nInstall sorcery locally:\n\n```bash\nnpm install sorcery\n```\n\n```js\nvar sorcery = require( 'sorcery' );\n\nsorcery.load( 'some/generated/code.min.js' ).then( function ( chain ) {\n  // generate a flattened sourcemap\n  var map = chain.apply(); // { version: 3, file: 'code.min.js', ... }\n\n  // get a JSON representation of the sourcemap\n  map.toString(); // '{\"version\":3,\"file\":\"code.min.js\",...}'\n\n  // get a data URI representation\n  map.toUrl(); // 'data:application/json;charset=utf-8;base64,eyJ2ZXJ...'\n\n  // write to a new file - this will create `output.js` and\n  // `output.js.map`, and will preserve relative paths. It\n  // returns a Promise\n  chain.write( 'output.js' );\n\n  // write to a new file but use an absolute path for the\n  // sourceMappingURL\n  chain.write( 'output.js', { absolutePath: true });\n\n  // write to a new file, but append the flattened sourcemap as a data URI\n  chain.write( 'output.js', { inline: true });\n\n  // overwrite the existing file\n  chain.write();\n  chain.write({ inline: true });\n\n  // find the origin of line x, column y. Returns an object with\n  // `source`, `line`, `column` and (if applicable) `name` properties.\n  // Note - for consistency with other tools, line numbers are always\n  // one-based, column numbers are always zero-based. It's daft, I know.\n  var loc = chain.trace( x, y );\n});\n\n// You can also use sorcery synchronously:\nvar chain = sorcery.loadSync( 'some/generated/code.min.js' );\nvar map = chain.apply();\nvar loc = chain.trace( x, y );\n```\n\n### On the command line\n\nFirst, install sorcery globally:\n\n```bash\nnpm install -g sorcery\n```\n\n```\nUsage:\n  sorcery [options]\n\nOptions:\n  -h, --help               Show help message\n  -v, --version            Show version\n  -i, --input <file>       Input file\n  -o, --output <file>      Output file (if absent, will overwrite input)\n  -d, --datauri            Append map as a data URI, rather than separate file\n  -x, --excludeContent     Don't populate the sourcesContent array\n```\n\nExamples:\n\n```bash\n# overwrite sourcemap in place (will write map to\n# some/generated/code.min.js.map, and update\n# sourceMappingURL comment if necessary\nsorcery -i some/generated/code.min.js\n\n# append flattened sourcemap as an inline data URI\n# (will delete existing .map file, if applicable)\nsorcery -i -d some/generated/code.min.js\n\n# write to a new file (will create newfile.js and\n# newfile.js.map)\nsorcery -i some/generated/code.min.js -o newfile.js\n```\n\n\n## License\n\nMIT\n\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/Rich-Harris/sorcery/issues"
  },
  "homepage": "https://github.com/Rich-Harris/sorcery#readme",
  "_id": "sorcery@0.2.5",
  "_shasum": "6f2ae76f57e4d603fb51e2b17737bcaea37424d4",
  "_resolved": "https://registry.npmjs.org/sorcery/-/sorcery-0.2.5.tgz",
  "_from": "https://registry.npmjs.org/sorcery/-/sorcery-0.2.5.tgz"
}
